version: "3.8"

services:
  hetzner-web:
    build: .
    container_name: hetzner-web
    restart: unless-stopped
    environment:
      TZ: Asia/Shanghai
      HETZNER_WEB_DISABLE_WORKERS: "false"
      REPORT_STATE_BACKUP_DIR: /app/report_state_backups
    ports:
      - "1227:1227"
    volumes:
      - ./config.yaml:/app/config.yaml
      - ./report_state.json:/app/report_state.json
      - ./report_state_backups:/app/report_state_backups
      - ./web_config.json:/app/web_config.json:ro
